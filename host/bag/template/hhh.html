<!DOCTYPE html>
<html lang="en">
   <head>
      {% load static %}
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Electronic</title>
      <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css'%}">
      <link rel="stylesheet" type="text/css" href="{% static 'css/style.css'%}">
      <link rel="stylesheet" href="{% static 'css/responsive.css'%}">
      <link rel="icon" href="{% static 'images/fevicon.png" type="image/gif'%}" />
      <link rel="stylesheet" href="{% static 'css/jquery.mCustomScrollbar.min.css'%}">
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
      <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <link href="https://fonts.googleapis.com/css?family=Great+Vibes|Poppins:400,700&display=swap&subset=latin-ext" rel="stylesheet">
      <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css'%}">
      <link rel="stylesheet" href="{% static 'css/owl.theme.default.min.css'%}">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
      <style>
         .order-section {
            padding: 50px 0;
            background: #f8f9fa;
         }
         .order-section h2 {
            text-align: center;
            font-weight: bold;
            margin-bottom: 30px;
         }
         .table-responsive {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
         }
         .table th, .table td {
            vertical-align: middle !important;
         }
         th {
            text-transform: uppercase;
         }
         table.table th, table.table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
         }
         table.table tr:nth-child(even) {
            background-color: #f9f9f9;
         }
         table.table tr:hover {
            background-color: #f1f1f1;
         }
         table.table th {
            background-color: #f2f2f2;
         }
         .submit-btn {
            background-color: orange;
            color: white;
            border: none;
            padding: 6px 12px;
            cursor: pointer;
            border-radius: 4px;
         }
         .submit-btn:hover {
            background-color: darkorange;
         }
      </style>
   </head>
   <body>
      <div class="banner_bg_main">
         <div class="container">
            <div class="header_section_top">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="custom_menu">
                        <ul>
                           <li><a href="admin">Home</a></li>
                           <li><a href="add_product">Add Product</a></li>
                           <li><a href="manage_product">Manage Product</a></li>
                           <li><a href="logout">Logout</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>

         <div class="logo_section">
            <div class="container">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="logo"></div>
                  </div>
               </div>
            </div>
         </div>

         <div class="header_section">
            <div class="container">
               <div class="containt_main">
                  <span class="toggle_icon" onclick="openNav()">
                     <img src="{% static 'images/toggle-icon.png'%}">
                  </span>
               </div>
            </div>
         </div>

         <div class="banner_section layout_padding">
            <div class="container">
               <div id="my_slider" class="carousel slide" data-ride="carousel">
                  <div class="carousel-inner">
                     <div class="carousel-item active">
                        <div class="row">
                           <div class="col-sm-12">
                              <h1 class="banner_taital"><br>Your Favorite Shopping</h1>
                           </div>
                        </div>
                     </div>
                  </div>
                  <a class="carousel-control-prev" href="#my_slider" role="button" data-slide="prev">
                  <i class="fa fa-angle-left"></i>
                  </a>
                  <a class="carousel-control-next" href="#my_slider" role="button" data-slide="next">
                  <i class="fa fa-angle-right"></i>
                  </a>
               </div>
            </div>
         </div>
      </div>

      <!-- Delivery Status Update Table -->
      <div class="order-section">
         <div class="container">
            <h2>Update Delivery Status</h2>
            <div class="table-responsive">
               <table class="table table-bordered">
                  <thead>
                     <tr>
                        <th>User Name</th>
                        <th>Product Name</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Image</th>
                        <th>Product Status</th>
                        <th>Date & Time</th>
                        <th>Delivery Status</th>
                     </tr>
                  </thead>
                  <tbody>
                     {% for i in data %}
                     <tr>
                        <td>{{ i.user_details.name }}</td>
                        <td>{{ i.product_details.name }}</td>
                        <td>{{ i.amount }}</td>
                        <td>{{ i.quantity }}</td>
                        <td><img src="{{ i.product_details.image.url }}" width="100" height="90"></td>
                        <td>{{ i.product_status }}</td>
                        <td>{{ i.order_date }}</td>
                        <td>
                           <form action="update_status/{{ i.pk }}" method="post">
                              {% csrf_token %}
                              {% if i.product_status == 'order placed' %}
                              <select name="n1">
                                 <option value="Out for delivery">Out for delivery</option>
                                 <option value="Shipped">Shipped</option>
                                 <option value="Delivered">Delivered</option>
                              </select>
                              {% elif i.product_status == 'Out for delivery' %}
                              <select name="n1">
                                 <option value="Shipped">Shipped</option>
                                 <option value="Delivered">Delivered</option>
                              </select>
                              {% elif i.product_status == 'Shipped' %}
                              <select name="n1">
                                 <option value="Delivered">Delivered</option>
                              </select>
                              {% else %}
                              <p>{{ i.product_status }}</p>
                              {% endif %}
                              {% if i.product_status != 'Delivered' %}
                              <button class="submit-btn" type="submit">Update</button>
                              {% endif %}
                           </form>
                        </td>
                     </tr>
                     {% endfor %}
                  </tbody>
               </table>
            </div>
         </div>
      </div>

      <!-- Scripts -->
      <script src="{% static 'js/jquery.min.js'%}"></script>
      <script src="{% static 'js/popper.min.js'%}"></script>
      <script src="{% static 'js/bootstrap.bundle.min.js'%}"></script>
      <script src="{% static 'js/jquery-3.0.0.min.js'%}"></script>
      <script src="{% static 'js/plugin.js'%}"></script>
      <script src="{% static 'js/jquery.mCustomScrollbar.concat.min.js'%}"></script>
      <script src="{% static 'js/custom.js'%}"></script>
      <script>
         function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
         }
         function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
         }
      </script>
   </body>
</html>
